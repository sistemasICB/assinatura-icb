<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Gerador de Assinatura Digital - ICB</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    #resultado { margin-top: 10px; }
    .label { margin-top: 10px; display: block; font-weight: bold; }
    button { margin-top: 10px; padding: 8px 15px; cursor: pointer; }
    input { width: 300px; padding: 5px; }
  </style>
</head>
<body>

  <h2>Gerador de Assinatura Digital - ICB</h2>

  <label class="label">Nome:</label>
  <input type="text" id="nome">

  <label class="label">Cargo:</label>
  <input type="text" id="cargo">

  <label class="label">Telefone:</label>
  <input type="text" id="telefone" maxlength="15" placeholder="(xx) xxxxx-xxxx">

  <label class="label">E-mail:</label>
  <input type="text" id="email" placeholder="email@dominio.com">

  <label class="label">Site (caso não tenha, será usado o site do Instituto Conhecer Brasil):</label>
  <input type="text" id="site">

  <br>
  <button onclick="gerarAssinatura()">Gerar Assinatura</button>

  <div id="resultado"></div>

  <script>
    function formatarTelefone(valor) {
        let numeros = valor.replace(/\D/g, "").slice(0, 11); // Garante no máximo 11 dígitos

        if (numeros.length <= 10) {
            // Fixo ou celular antigo
            return numeros.replace(/^(\d{2})(\d{4})(\d{0,4})/, "($1) $2-$3");
        } else {
            // Celular com 9 dígitos
            return numeros.replace(/^(\d{2})(\d{5})(\d{0,4})/, "($1) $2-$3");
        }
    }

    document.getElementById("telefone").addEventListener("input", function () {
        this.value = formatarTelefone(this.value);
    });

    function validarEmail(email) {
        const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return regex.test(email);
    }

    function gerarAssinatura() {
        const nome = document.getElementById("nome").value.trim();
        const cargo = document.getElementById("cargo").value.trim();
        const telefone = document.getElementById("telefone").value.trim();
        const email = document.getElementById("email").value.trim();
        const site = document.getElementById("site").value.trim() || "https://www.institutoconhecerbrasil.org.br";

        // Validação
        if (!nome || !cargo || !telefone || !email) {
        alert("Preencha todos os campos obrigatórios.");
        return;
        }
        if (!validarEmail(email)) {
        alert("Digite um e-mail válido.");
        return;
        }

        const assinaturaHTML = `
        <div class="assinatura">
            <div id="assinaturaBox">
            <table cellpadding="0" cellspacing="0" border="0" width="600" style="font-family: Arial, sans-serif; max-width: 600px;">
                <tr>
                <td style="padding-right: 15px; vertical-align: top;">
                    <p style="margin: 0; font-weight: bold; font-size: 16px;">${nome}</p>
                    <p style="margin: 0;">${cargo}<br>ICB</p>
                </td>
                <td style="border-left: 2px solid #286295; padding-left: 15px;">
                    <table cellpadding="4" cellspacing="0" border="0" style="font-size: 14px;">
                    <tr>
                        <td><img src="https://i.postimg.cc/wvqrPKhj/phone-call-1.png" alt="Telefone" width="20" /></td>
                        <td>${telefone}</td>
                    </tr>
                    <tr>
                        <td><img src="https://i.postimg.cc/nLY50V9W/email-1.png" alt="E-mail" width="20" /></td>
                        <td><a href="mailto:${email}" style="color: #1a0dab; text-decoration: none;">${email}</a></td>
                    </tr>
                    <tr>
                        <td><img src="https://i.postimg.cc/R0zy7Jhf/link-1.png" alt="Site" width="20" /></td>
                        <td><a href="${site}" style="color: #1a0dab; text-decoration: none;">${site.replace(/^https?:\/\//, '')}</a></td>
                    </tr>
                    <tr>
                        <td><img src="https://i.postimg.cc/ydLGCfPX/gps-1.png" alt="Endereço" width="20" /></td>
                        <td>Av. Paulista, 807 - Conj 2315, Bela Vista - SP</td>
                    </tr>
                    </table>
                </td>
                </tr>
                <tr>
                <td colspan="2" style="padding-top: 10px; padding-bottom: 10px;">
                    <hr style="border: 1px solid #286295; margin: 0;">
                </td>
                </tr>
                <tr>
                <td>
                    <a href="${site}" target="_blank" style="text-decoration: none;">
                    <img src="https://i.postimg.cc/J4s6dKWW/logo-branco-1024x421-png-1.webp" alt="Logo ICB" width="120" />
                    </a>
                </td>
                <td align="right">
                    <a href="https://www.facebook.com/institutoconhecerbrasil/" style="margin-right: 10px; text-decoration: none;">
                    <img src="https://i.postimg.cc/Z5wrJ1NQ/facebook-3.png" alt="Facebook" width="25" />
                    </a>
                    <a href="https://www.instagram.com/conhecer_brasil/" style="text-decoration: none;">
                    <img src="https://i.postimg.cc/c4wWySps/instagram-2.png" alt="Instagram" width="25" />
                    </a>
                </td>
                </tr>
                <tr>
                <td colspan="2" style="font-size: 11px; color: #444; padding-top: 20px; line-height: 1.5;">
                    <strong>Compromisso com a sua privacidade:</strong><br>
                    No Instituto Conhecer Brasil, acreditamos que o respeito à privacidade é parte essencial da confiança. Por isso, cuidamos dos dados pessoais com responsabilidade, ética e em conformidade com a Lei Geral de Proteção de Dados (LGPD).<br><br>
                    Esta mensagem, incluindo qualquer anexo, é destinada exclusivamente para a(s) pessoa(s) a quem é dirigida, podendo conter informação confidencial e/ou legalmente protegida. Se você não for o destinatário desta mensagem, por favor, não divulgue, copie, distribua, examine ou, de qualquer forma, utilize a informação aqui contida, por ser ilegal. Caso você tenha recebido esta mensagem por engano, pedimos que nos retorne este e-mail, e elimine seu conteúdo em sua base de dados, registros ou sistema de controle.
                </td>
                </tr>
            </table>
            </div>
        </div>
        <button onclick="copiarAssinatura()">Copiar Assinatura</button>
        `;

        document.getElementById("resultado").innerHTML = assinaturaHTML;
    }

    function copiarAssinatura() {
        const el = document.getElementById("assinaturaBox");
        const range = document.createRange();
        range.selectNodeContents(el);
        const sel = window.getSelection();
        sel.removeAllRanges();
        sel.addRange(range);
        document.execCommand("copy");
        alert("Assinatura copiada com sucesso! Agora é só colar no seu e-mail.");
    }
  </script>


</body>
</html>
